/** @format */

@import '../style/config.scss';

$spin-size: (
  '': 20,
  '-large': 32,
  '-small': 14,
);
$spin-tip-fontsize: (
  '': 12,
  '-large': 12,
  '-small': 12,
);
$spin-tip-space: (
  '': 8,
  '-large': 12,
  '-small': 4,
);
$move-time: 0.3s;

.w-spin {
  position: relative;
  transform-origin: center;
  transition: opacity $move-time, color $move-time;

  &-body {
    transition: opacity 0.3s;

    &::after {
      position: absolute;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      z-index: 10;
      display: none \9;
      width: 100%;
      height: 100%;
      background: #fff;
      opacity: 0;
      transition: all 0.3s;
      content: ' ';
      pointer-events: none;
    }

    &-active {
      clear: both;
      overflow: hidden;
      opacity: 0.5;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
      pointer-events: none;

      &::after {
        opacity: 0.4;
        pointer-events: auto;
      }
    }
  }

  &-icon {
    color: $blue-6;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);

    // 循环尺寸
    @each $size, $value in $spin-size {
      &#{$size} {
        color: $blue-6;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }

      &#{$size} svg,
      &#{$size} img {
        width: $value + px;
        height: $value + px;
      }
    }
  }

  &-mask {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    user-select: none;
    overflow: -hidden;
  }

  &-tip {
    @extend .w-ellipsis;

    margin: 0;
    color: $blue-6;
    width: 100%;
    line-height: 1;
    font-family: $font-family;
    text-align: center;

    // 循环尺寸
    @each $size, $value in $spin-size {
      &#{$size} {
        font-size: map-get($spin-tip-fontsize, $size) + px;
        padding-top: map-get($spin-tip-space, $size) + px;
      }

      &#{$size} svg,
      &#{$size} img {
        width: $value + px;
        height: $value + px;
      }
    }
  }
}
